<!-- <form id="predict-form" method="POST">
    <label for="marital_status">Marital Status</label>
    <input type="number" id="marital_status" name="Marital Status" placeholder="Marital Status" step="1" required><br>
    
    <label for="daytime_attendance">Daytime/evening attendance</label>
    <input type="number" id="daytime_attendance" name="Daytime/evening attendance" placeholder="Daytime/evening attendance" step="1" required><br>
    
    <label for="previous_qualification">Previous qualification</label>
    <input type="number" id="previous_qualification" name="Previous qualification" placeholder="Previous qualification" step="1" required><br>
    
    <label for="previous_qualification_grade">Previous qualification (grade)</label>
    <input type="number" id="previous_qualification_grade" name="Previous qualification (grade)" placeholder="Previous qualification (grade)" step="1" required><br>
    
    <label for="mothers_qualification">Mother's qualification</label>
    <input type="number" id="mothers_qualification" name="Mothers qualification" placeholder="Mother's qualification" step="1" required><br>
    
    <label for="fathers_qualification">Father's qualification</label>
    <input type="number" id="fathers_qualification" name="Fathers qualification" placeholder="Father's qualification" step="1" required><br>
    
    <label for="mothers_occupation">Mother's occupation</label>
    <input type="number" id="mothers_occupation" name="Mothers occupation" placeholder="Mother's occupation" step="1" required><br>
    
    <label for="fathers_occupation">Father's occupation</label>
    <input type="number" id="fathers_occupation" name="Fathers occupation" placeholder="Father's occupation" step="1" required><br>
    
    <label for="admission_grade">Admission grade</label>
    <input type="number" id="admission_grade" name="Admission grade" placeholder="Admission grade" step="1" required><br>
    
    <label for="displaced">Displaced</label>
    <input type="number" id="displaced" name="Displaced" placeholder="Displaced" step="1" required><br>
    
    <label for="educational_special_needs">Educational special needs</label>
    <input type="number" id="educational_special_needs" name="Educational special needs" placeholder="Educational special needs" step="1" required><br>
    
    <label for="debtor">Debtor</label>
    <input type="number" id="debtor" name="Debtor" placeholder="Debtor" step="1" required><br>
    
    <label for="tuition_fees">Tuition fees up to date</label>
    <input type="number" id="tuition_fees" name="Tuition fees up to date" placeholder="Tuition fees up to date" step="1" required><br>
    
    <label for="gender">Gender</label>
    <input type="number" id="gender" name="Gender" placeholder="Gender" step="1" required><br>
    
    <label for="scholarship_holder">Scholarship holder</label>
    <input type="number" id="scholarship_holder" name="Scholarship holder" placeholder="Scholarship holder" step="1" required><br>
    
    <label for="age">Age at enrollment</label>
    <input type="number" id="age" name="Age at enrollment" placeholder="Age at enrollment" step="1" required><br>
    
    <label for="international">International</label>
    <input type="number" id="international" name="International" placeholder="International" step="1" required><br>
    
    <label for="sem_one_grade">Curricular units 1st sem (grade)</label>
    <input type="number" id="sem_one_grade" name="Curricular units 1st sem (grade)" placeholder="Curricular units 1st sem (grade)" step="1" required><br>
    
    <label for="sem_two_grade">Curricular units 2nd sem (grade)</label>
    <input type="number" id="sem_two_grade" name="Curricular units 2nd sem (grade)" placeholder="Curricular units 2nd sem (grade)" step="1" required><br>

    <button type="submit">Submit</button>
</form> -->
<form id="predict-form" method="POST">
    <label for="marital_status">Marital Status</label>
    <input type="number" id="marital_status" name="marital_status" placeholder="Marital Status" step="1" required><br>
    
    <label for="daytime_attendance">Daytime/evening attendance</label>
    <input type="number" id="daytime_attendance" name="daytime_attendance" placeholder="Daytime/evening attendance" step="1" required><br>
    
    <label for="previous_qualification">Previous qualification</label>
    <input type="number" id="previous_qualification" name="previous_qualification" placeholder="Previous qualification" step="1" required><br>
    
    <label for="previous_qualification_grade">Previous qualification (grade)</label>
    <input type="number" id="previous_qualification_grade" name="previous_qualification_grade" placeholder="Previous qualification (grade)" step="1" required><br>
    
    <label for="mothers_qualification">Mother's qualification</label>
    <input type="number" id="mothers_qualification" name="mothers_qualification" placeholder="Mother's qualification" step="1" required><br>
    
    <label for="fathers_qualification">Father's qualification</label>
    <input type="number" id="fathers_qualification" name="fathers_qualification" placeholder="Father's qualification" step="1" required><br>
    
    <label for="mothers_occupation">Mother's occupation</label>
    <input type="number" id="mothers_occupation" name="mothers_occupation" placeholder="Mother's occupation" step="1" required><br>
    
    <label for="fathers_occupation">Father's occupation</label>
    <input type="number" id="fathers_occupation" name="fathers_occupation" placeholder="Father's occupation" step="1" required><br>
    
    <label for="admission_grade">Admission grade</label>
    <input type="number" id="admission_grade" name="admission_grade" placeholder="Admission grade" step="1" required><br>
    
    <label for="displaced">Displaced</label>
    <input type="number" id="displaced" name="displaced" placeholder="Displaced" step="1" required><br>
    
    <label for="educational_special_needs">Educational special needs</label>
    <input type="number" id="educational_special_needs" name="educational_special_needs" placeholder="Educational special needs" step="1" required><br>
    
    <label for="debtor">Debtor</label>
    <input type="number" id="debtor" name="debtor" placeholder="Debtor" step="1" required><br>
    
    <label for="tuition_fees_update">Tuition fees up to date</label>
    <input type="number" id="tuition_fees_update" name="tuition_fees_update" placeholder="Tuition fees up to date" step="1" required><br>
    
    <label for="gender">Gender</label>
    <input type="number" id="gender" name="gender" placeholder="Gender" step="1" required><br>
    
    <label for="scholarship_holder">Scholarship holder</label>
    <input type="number" id="scholarship_holder" name="scholarship_holder" placeholder="Scholarship holder" step="1" required><br>
    
    <label for="age">Age at enrollment</label>
    <input type="number" id="age" name="age" placeholder="Age at enrollment" step="1" required><br>
    
    <label for="international">International</label>
    <input type="number" id="international" name="international" placeholder="International" step="1" required><br>
    
    <label for="sem_one_grade">Curricular units 1st sem (grade)</label>
    <input type="number" id="sem_one_grade" name="sem_one_grade" placeholder="Curricular units 1st sem (grade)" step="1" required><br>
    
    <label for="sem_two_grade">Curricular units 2nd sem (grade)</label>
    <input type="number" id="sem_two_grade" name="sem_two_grade" placeholder="Curricular units 2nd sem (grade)" step="1" required><br>

    <button type="submit">Submit</button>
</form>
<p id="prediction-result"></p>

<!-- <script>
document.getElementById('predict-form').addEventListener('submit', function(event) {
    event.preventDefault();

    // Ambil data input dari form
    const data = {
        "marital_status": parseInt(document.getElementById("marital_status").value),
        "daytime_attendance": parseInt(document.getElementById("daytime_attendance").value),
        "previous_qualification": parseInt(document.getElementById("previous_qualification").value),
        "previous_qualification_grade": parseInt(document.getElementById("previous_qualification_grade").value),
        "mothers_qualification": parseInt(document.getElementById("mothers_qualification").value),
        "fathers_qualification": parseInt(document.getElementById("fathers_qualification").value),
        "mothers_occupation": parseInt(document.getElementById("mothers_occupation").value),
        "fathers_occupation": parseInt(document.getElementById("fathers_occupation").value),
        "admission_grade": parseInt(document.getElementById("admission_grade").value),
        "displaced": parseInt(document.getElementById("displaced").value),
        "educational_special_needs": parseInt(document.getElementById("educational_special_needs").value),
        "debtor": parseInt(document.getElementById("debtor").value),
        "tuition_fees_update": parseInt(document.getElementById("tuition_fees").value),
        "gender": parseInt(document.getElementById("gender").value),
        "scholarship_holder": parseInt(document.getElementById("scholarship_holder").value),
        "age": parseInt(document.getElementById("age").value),
        "international": parseInt(document.getElementById("international").value),
        "sem_one_grade": parseInt(document.getElementById("sem_one_grade").value),
        "sem_two_grade": parseInt(document.getElementById("sem_two_grade").value)
    };
    console.log(data);

    // Kirim data ke server Flask
    // fetch('/predict', {
    //     method: 'POST',
    //     headers: {
    //         'Content-Type': 'application/json'
    //     },
    //     body: JSON.stringify(data)
    // })
    // .then(response => response.json())
    // .then(data => {
    //     document.getElementById("prediction-result").innerText = "Prediction: " + (data.prediction === 0 ? "Dropout" : "Graduate");
    // })
    // .catch(error => {
    //     console.error("Error occurred:", error);
    //     document.getElementById("prediction-result").innerText = "An error occurred: " + error.message;
    // });

    fetch('/predict', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        'marital_status': 1,
        'daytime_attendance': 0,
        'previous_qualification': 2,
        'previous_qualification_grade': 14,
        'mothers_qualification': 3,
        'fathers_qualification': 2,
        'mothers_occupation': 1,
        'fathers_occupation': 1,
        'admission_grade': 15,
        'displaced': 0,
        'educational_special_needs': 0,
        'debtor': 0,
        'tuition_fees_update': 1,
        'gender': 1,
        'scholarship_holder': 0,
        'age': 20,
        'international': 0,
        'sem_one_grade': 13,
        'sem_two_grade': 14
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
});
</script> -->
<script>
    document.getElementById('predict-form').addEventListener('submit', function(event) {
    event.preventDefault();

    // Ambil data input dari form
    const formData = new FormData(document.getElementById('predict-form'));
    const data = Object.fromEntries(formData.entries());

    // Konversi nilai string ke integer
    for (let key in data) {
        data[key] = parseInt(data[key]);
    }

    console.log("Data to send:", data);

    // Kirim data ke server Flask
    fetch('http://127.0.0.1:5000/predict', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
    })
    .then(data => {
        document.getElementById("prediction-result").innerText = "Prediction: " + (data.prediction === 0 ? "Dropout" : "Graduate");
    })
    .catch(error => {
        console.error("Error occurred:", error);
        document.getElementById("prediction-result").innerText = "An error occurred: " + error.message;
    });
});

</script>
